{% extends 'templatebackoffice/index.html.twig' %}

{% block title %}Edit Annonce{% endblock %}

{% block body %}
<div class="container mt-4">
    <h1 class="text-dark mb-4" style="font-size: 2.5rem; font-weight: 700;">Edit Annonce</h1>

    <div class="card shadow-sm p-4">
        {{ form_start(form, {'attr': {'class': 'needs-validation', 'novalidate': 'novalidate'}}) }}

        <div class="mb-3">
            {{ form_label(form.titre, 'Titre de l\'annonce', {'label_attr': {'class': 'form-label fw-bold'}}) }}
            {{ form_widget(form.titre, {'attr': {'class': 'form-control', 'placeholder': 'Entrez le titre'}}) }}
            {{ form_errors(form.titre) }}
        </div>

        <div class="mb-3">
            {{ form_label(form.poids, 'Poids (kg)', {'label_attr': {'class': 'form-label fw-bold'}}) }}
            {{ form_widget(form.poids, {'attr': {'class': 'form-control', 'placeholder': 'Ex: 10'}}) }}
            {{ form_errors(form.poids) }}
        </div>

        <div class="mb-3">
            {{ form_label(form.prix, 'Prix (€)', {'label_attr': {'class': 'form-label fw-bold'}}) }}
            {{ form_widget(form.prix, {'attr': {'class': 'form-control', 'placeholder': 'Ex: 100'}}) }}
            {{ form_errors(form.prix) }}
        </div>

        <div class="mb-3">
            {{ form_label(form.description, 'Description', {'label_attr': {'class': 'form-label fw-bold'}}) }}
            {{ form_widget(form.description, {'attr': {'class': 'form-control', 'rows': 4, 'placeholder': 'Ajoutez une description...'}}) }}
            {{ form_errors(form.description) }}
        </div>

        <div class="mb-3">
            {{ form_label(form.imageFile, 'Image de l\'annonce', {'label_attr': {'class': 'form-label fw-bold'}}) }}
            {{ form_widget(form.imageFile, {'attr': {'class': 'form-control'}}) }}
            {% if annonce.image %}
                <div class="mt-2">
                    <img src="{{ asset('uploads/' ~ annonce.image) }}" alt="Image actuelle" class="img-thumbnail" style="width: 150px; height: auto;">
                </div>
            {% endif %}
            {{ form_errors(form.imageFile) }}
        </div>

        <div class="mb-3">
            {{ form_label(form.category, 'Catégorie', {'label_attr': {'class': 'form-label fw-bold'}}) }}
            {{ form_widget(form.category, {'attr': {'class': 'form-select'}}) }}
            {{ form_errors(form.category) }}
        </div>

        <button type="submit" class="btn btn-success"><i class="fas fa-save"></i> Update</button>
        {{ form_end(form) }}
    </div>

    <div class="mt-4 d-flex gap-2">
        <a href="{{ path('app_templatebackoffice', { 'page': 'shop-management' }) }}" class="btn btn-secondary">
            <i class="fas fa-arrow-left"></i> Back to List
        </a>

        {{ include('annonce/_delete_form.html.twig') }}
    </div>
</div>
{% endblock %}
